{"nodes":[{"code":"func main() {\n\t// Load configuration\n\tcfg := config.NewServiceConfig(\"subscription\", 8090)\n\tdbCfg := config.DatabaseConfig{\n\t\tHost:     config.GetEnv(\"SUBSCRIPTION_DB_HOST\", \"localhost\"),\n\t\tPort:     config.GetEnvInt(\"SUBSCRIPTION_DB_PORT\", 5438),\n\t\tUser:     config.GetEnv(\"SUBSCRIPTION_DB_USER\", \"rinder\"),\n\t\tPassword: config.GetEnv(\"SUBSCRIPTION_DB_PASSWORD\", \"rinder123\"),\n\t\tDatabase: config.GetEnv(\"SUBSCRIPTION_DB_NAME\", \"rinder_subscriptions\"),\n\t\tSSLMode:  config.GetEnv(\"SUBSCRIPTION_DB_SSLMODE\", \"disable\"),\n\t}\n\tkafkaCfg := config.NewKafkaConfig(\"subscription-service\")\n\n\t// Payment gateway URL\n\tpaymentGatewayURL := config.GetEnv(\"PAYMENT_GATEWAY_URL\", \"http://localhost:8091\")\n\n\t// Renewal check interval (default: 1 hour)\n\trenewalInterval := config.GetEnvDuration(\"RENEWAL_CHECK_INTERVAL\", 1*time.Hour)\n\n\t// Initialize logger\n\tlogger.Init(cfg.Name, cfg.LogLevel)\n\tlogger.Info(\"starting subscription service\",\n\t\tzap.Int(\"port\", cfg.Port),\n\t\tzap.String(\"environment\", cfg.Environment),\n\t)\n\n\t// Connect to database\n\tdsn := fmt.Sprintf(\"host=%s port=%d user=%s password=%s dbname=%s sslmode=%s\",\n\t\tdbCfg.Host, dbCfg.Port, dbCfg.User, dbCfg.Password, dbCfg.Database, dbCfg.SSLMode)\n\n\tdb, err := sql.Open(\"postgres\", dsn)\n\tif err != nil {\n\t\tlogger.Fatal(\"failed to connect to database\", zap.Error(err))\n\t}\n\tdefer db.Close()\n\n\t// Configure connection pool\n\tdb.SetMaxOpenConns(25)\n\tdb.SetMaxIdleConns(25)\n\tdb.SetConnMaxLifetime(5 * time.Minute)\n\n\t// Test connection\n\tif err := db.Ping(); err != nil {\n\t\tlogger.Fatal(\"failed to ping database\", zap.Error(err))\n\t}\n\tlogger.Info(\"connected to database\")\n\n\t// Initialize Kafka producer\n\tproducer := kafka.NewProducer(kafkaCfg.Brokers, cfg.Name)\n\tdefer producer.Close()\n\n\t// Initialize repository\n\tsubscriptionRepo := repository.NewSubscriptionRepository(db)\n\n\t// Run migrations\n\tif err := subscriptionRepo.CreateSchema(context.Background()); err != nil {\n\t\tlogger.Fatal(\"failed to run migrations\", zap.Error(err))\n\t}\n\tlogger.Info(\"database migrations completed\")\n\n\t// Initialize service\n\tsubscriptionService := service.NewSubscriptionService(subscriptionRepo, producer, paymentGatewayURL)\n\n\t// Initialize handler\n\th := handler.NewHandler(subscriptionService)\n\n\t// Setup routes\n\tmux := http.NewServeMux()\n\th.RegisterRoutes(mux)\n\n\t// Apply middleware\n\tvar httpHandler http.Handler = mux\n\thttpHandler = middleware.Logging(httpHandler)\n\thttpHandler = middleware.Recovery(httpHandler)\n\n\t// Create server\n\tserver := \u0026http.Server{\n\t\tAddr:         fmt.Sprintf(\":%d\", cfg.Port),\n\t\tHandler:      httpHandler,\n\t\tReadTimeout:  15 * time.Second,\n\t\tWriteTimeout: 15 * time.Second,\n\t\tIdleTimeout:  60 * time.Second,\n\t}\n\n\t// Start renewal scheduler\n\trenewalScheduler := scheduler.NewRenewalScheduler(subscriptionService, renewalInterval)\n\tschedulerCtx, schedulerCancel := context.WithCancel(context.Background())\n\tgo renewalScheduler.Start(schedulerCtx)\n\n\t// Start server\n\tgo func() {\n\t\tlogger.Info(\"subscription service listening\", zap.String(\"addr\", server.Addr))\n\t\tif err := server.ListenAndServe(); err != nil \u0026\u0026 err != http.ErrServerClosed {\n\t\t\tlogger.Fatal(\"failed to start server\", zap.Error(err))\n\t\t}\n\t}()\n\n\t// Wait for interrupt signal\n\tquit := make(chan os.Signal, 1)\n\tsignal.Notify(quit, syscall.SIGINT, syscall.SIGTERM)\n\t\u003c-quit\n\n\tlogger.Info(\"shutting down server...\")\n\n\t// Stop scheduler\n\tschedulerCancel()\n\trenewalScheduler.Stop()\n\n\t// Graceful shutdown\n\tctx, cancel := context.WithTimeout(context.Background(), 30*time.Second)\n\tdefer cancel()\n\n\tif err := server.Shutdown(ctx); err != nil {\n\t\tlogger.Fatal(\"server forced to shutdown\", zap.Error(err))\n\t}\n\n\tlogger.Info(\"server exited properly\")\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","name":"ROOT","node_type":"function"},{"code":"func NewSubscriptionRepository(db *sql.DB) *SubscriptionRepository {\n\treturn \u0026SubscriptionRepository{db: db}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:18:6","name":"NewSubscriptionRepository","node_type":"function"},{"code":"func (r *SubscriptionRepository) CreateSchema(ctx context.Context) error {\n\tmigrations := []string{\n\t\t`CREATE TABLE IF NOT EXISTS subscriptions (\n\t\t\tid UUID PRIMARY KEY,\n\t\t\tuser_id UUID NOT NULL,\n\t\t\tplan VARCHAR(50) NOT NULL,\n\t\t\tstatus VARCHAR(50) NOT NULL DEFAULT 'active',\n\t\t\tpayment_provider VARCHAR(50),\n\t\t\texternal_id VARCHAR(255),\n\t\t\tcurrent_period_start TIMESTAMP WITH TIME ZONE NOT NULL,\n\t\t\tcurrent_period_end TIMESTAMP WITH TIME ZONE NOT NULL,\n\t\t\tcancelled_at TIMESTAMP WITH TIME ZONE,\n\t\t\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n\t\t\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n\t\t\tUNIQUE(user_id)\n\t\t)`,\n\t\t`CREATE INDEX IF NOT EXISTS idx_subscriptions_user_id ON subscriptions(user_id)`,\n\t\t`CREATE INDEX IF NOT EXISTS idx_subscriptions_status ON subscriptions(status)`,\n\t\t`CREATE INDEX IF NOT EXISTS idx_subscriptions_period_end ON subscriptions(current_period_end)`,\n\t}\n\n\tfor _, migration := range migrations {\n\t\tif _, err := r.db.ExecContext(ctx, migration); err != nil {\n\t\t\treturn err\n\t\t}\n\t}\n\treturn nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:23:34","name":"CreateSchema","node_type":"function"},{"code":"func NewSubscriptionService(\n\trepo *repository.SubscriptionRepository,\n\tproducer *kafka.Producer,\n\tpaymentGatewayURL string,\n) *SubscriptionService {\n\treturn \u0026SubscriptionService{\n\t\trepo:          repo,\n\t\tproducer:      producer,\n\t\tpaymentClient: httpclient.NewClient(paymentGatewayURL, \"payment-gateway\", 30*time.Second),\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:34:6","name":"NewSubscriptionService","node_type":"function"},{"code":"func NewHandler(subscriptionService *service.SubscriptionService) *Handler {\n\treturn \u0026Handler{\n\t\tsubscriptionService: subscriptionService,\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:19:6","name":"NewHandler","node_type":"function"},{"code":"func (h *Handler) RegisterRoutes(mux *http.ServeMux) {\n\t// Health check\n\tmux.HandleFunc(\"/health\", h.healthCheck)\n\n\t// Plan routes\n\tmux.HandleFunc(\"/api/v1/plans\", h.listPlans)\n\tmux.HandleFunc(\"/api/v1/plans/\", h.planByID)\n\n\t// Subscription routes\n\tmux.HandleFunc(\"/api/v1/subscriptions\", h.handleSubscriptions)\n\tmux.HandleFunc(\"/api/v1/subscriptions/\", h.handleSubscriptionByID)\n\tmux.HandleFunc(\"/api/v1/subscriptions/me\", h.mySubscription)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:26:19","name":"RegisterRoutes","node_type":"function"},{"code":"func (h *Handler) healthCheck(w http.ResponseWriter, r *http.Request) {\n\tw.Header().Set(\"Content-Type\", \"application/json\")\n\tw.WriteHeader(http.StatusOK)\n\tw.Write([]byte(`{\"status\":\"healthy\",\"service\":\"subscription\"}`))\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:40:19","name":"healthCheck","node_type":"function"},{"code":"func (h *Handler) listPlans(w http.ResponseWriter, r *http.Request) {\n\tif r.Method != http.MethodGet {\n\t\tresponse.Error(w, \u0026methodNotAllowedError{})\n\t\treturn\n\t}\n\n\tplans := h.subscriptionService.GetPlans()\n\tresponse.OK(w, plans)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:46:19","name":"listPlans","node_type":"function"},{"code":"func (s *SubscriptionService) GetPlans() []model.Plan {\n\treturn []model.Plan{\n\t\t{\n\t\t\tID:          model.PlanFree,\n\t\t\tName:        \"Free\",\n\t\t\tDescription: \"Basic features\",\n\t\t\tPrice:       0,\n\t\t\tCurrency:    \"USD\",\n\t\t\tInterval:    \"monthly\",\n\t\t\tFeatures:    []string{\"Limited swipes\", \"Basic matching\"},\n\t\t},\n\t\t{\n\t\t\tID:          model.PlanBasic,\n\t\t\tName:        \"Basic\",\n\t\t\tDescription: \"Enhanced features\",\n\t\t\tPrice:       9.99,\n\t\t\tCurrency:    \"USD\",\n\t\t\tInterval:    \"monthly\",\n\t\t\tFeatures:    []string{\"Unlimited swipes\", \"See who likes you\", \"1 Boost per month\"},\n\t\t},\n\t\t{\n\t\t\tID:          model.PlanPremium,\n\t\t\tName:        \"Premium\",\n\t\t\tDescription: \"All features unlocked\",\n\t\t\tPrice:       19.99,\n\t\t\tCurrency:    \"USD\",\n\t\t\tInterval:    \"monthly\",\n\t\t\tFeatures:    []string{\"Unlimited swipes\", \"See who likes you\", \"5 Boosts per month\", \"Priority matching\", \"Read receipts\"},\n\t\t},\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:346:31","name":"GetPlans","node_type":"function"},{"code":"func (h *Handler) planByID(w http.ResponseWriter, r *http.Request) {\n\tif r.Method != http.MethodGet {\n\t\tresponse.Error(w, \u0026methodNotAllowedError{})\n\t\treturn\n\t}\n\n\tplanID := strings.TrimPrefix(r.URL.Path, \"/api/v1/plans/\")\n\tplanID = strings.TrimSuffix(planID, \"/\")\n\n\tplanDetails, err := h.subscriptionService.GetPlanDetails(planID)\n\tif err != nil {\n\t\tresponse.Error(w, err)\n\t\treturn\n\t}\n\n\tw.Header().Set(\"Content-Type\", \"application/json\")\n\tw.WriteHeader(http.StatusOK)\n\tw.Write(planDetails)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:56:19","name":"planByID","node_type":"function"},{"code":"func (s *SubscriptionService) GetPlanDetails(planID string) ([]byte, error) {\n\tplans := s.GetPlans()\n\tfor _, plan := range plans {\n\t\tif plan.ID == planID {\n\t\t\treturn json.Marshal(plan)\n\t\t}\n\t}\n\treturn nil, errors.NotFound(\"plan not found\")\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:379:31","name":"GetPlanDetails","node_type":"function"},{"code":"func (h *Handler) handleSubscriptions(w http.ResponseWriter, r *http.Request) {\n\tswitch r.Method {\n\tcase http.MethodPost:\n\t\th.createSubscription(w, r)\n\tdefault:\n\t\tresponse.Error(w, \u0026methodNotAllowedError{})\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","name":"handleSubscriptions","node_type":"function"},{"code":"func (h *Handler) createSubscription(w http.ResponseWriter, r *http.Request) {\n\tuserID := r.Header.Get(\"X-User-ID\")\n\tif userID == \"\" {\n\t\tresponse.Error(w, \u0026unauthorizedError{})\n\t\treturn\n\t}\n\n\tvar req model.CreateSubscriptionRequest\n\tif err := json.NewDecoder(r.Body).Decode(\u0026req); err != nil {\n\t\tresponse.Error(w, \u0026badRequestError{message: \"invalid request body\"})\n\t\treturn\n\t}\n\treq.UserID = userID\n\n\tsub, err := h.subscriptionService.CreateSubscription(r.Context(), \u0026req)\n\tif err != nil {\n\t\tresponse.Error(w, err)\n\t\treturn\n\t}\n\n\tresponse.Created(w, sub)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","name":"createSubscription","node_type":"function"},{"code":"func (s *SubscriptionService) CreateSubscription(ctx context.Context, req *model.CreateSubscriptionRequest) (*model.Subscription, error) {\n\t// Validate plan\n\tif _, ok := planPrices[req.Plan]; !ok {\n\t\treturn nil, errors.ValidationError(\"invalid plan\")\n\t}\n\n\t// Check if user already has a subscription\n\texisting, err := s.repo.GetByUserID(ctx, req.UserID)\n\tif err == nil \u0026\u0026 existing != nil {\n\t\treturn nil, errors.Conflict(\"user already has a subscription\")\n\t}\n\n\tnow := time.Now()\n\tperiodEnd := now.AddDate(0, 1, 0) // 1 month subscription\n\n\tsub := \u0026model.Subscription{\n\t\tID:                 uuid.New().String(),\n\t\tUserID:             req.UserID,\n\t\tPlan:               req.Plan,\n\t\tStatus:             model.SubscriptionStatusActive,\n\t\tPaymentProvider:    req.PaymentProvider,\n\t\tCurrentPeriodStart: now,\n\t\tCurrentPeriodEnd:   periodEnd,\n\t\tCreatedAt:          now,\n\t\tUpdatedAt:          now,\n\t}\n\n\t// Process initial payment if not free plan\n\tif req.Plan != model.PlanFree {\n\t\tpaymentReq := \u0026model.PaymentRequest{\n\t\t\tUserID:          req.UserID,\n\t\t\tSubscriptionID:  sub.ID,\n\t\t\tAmount:          float64(planPrices[req.Plan]) / 100,\n\t\t\tCurrency:        \"USD\",\n\t\t\tProvider:        req.PaymentProvider,\n\t\t\tPaymentMethodID: req.PaymentMethodID,\n\t\t\tDescription:     fmt.Sprintf(\"Subscription: %s plan\", req.Plan),\n\t\t}\n\n\t\tpaymentResp, err := s.processPayment(ctx, paymentReq)\n\t\tif err != nil {\n\t\t\treturn nil, err\n\t\t}\n\t\tif !paymentResp.Success {\n\t\t\treturn nil, errors.PaymentFailed(paymentResp.ErrorMessage)\n\t\t}\n\t\tsub.ExternalID = paymentResp.TransactionID\n\t}\n\n\tif err := s.repo.Create(ctx, sub); err != nil {\n\t\treturn nil, err\n\t}\n\n\t// Publish subscription created event\n\ts.publishSubscriptionEvent(ctx, kafka.TopicSubscriptionCreated, kafka.EventSubscriptionCreated, sub)\n\n\treturn sub, nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","name":"CreateSubscription","node_type":"function"},{"code":"func (r *SubscriptionRepository) GetByUserID(ctx context.Context, userID string) (*model.Subscription, error) {\n\tquery := `\n\t\tSELECT id, user_id, plan, status, payment_provider, external_id,\n\t\t\tcurrent_period_start, current_period_end, cancelled_at, created_at, updated_at\n\t\tFROM subscriptions WHERE user_id = $1\n\t`\n\tsub := \u0026model.Subscription{}\n\tvar paymentProvider, externalID sql.NullString\n\tvar cancelledAt sql.NullTime\n\n\terr := r.db.QueryRowContext(ctx, query, userID).Scan(\n\t\t\u0026sub.ID, \u0026sub.UserID, \u0026sub.Plan, \u0026sub.Status, \u0026paymentProvider, \u0026externalID,\n\t\t\u0026sub.CurrentPeriodStart, \u0026sub.CurrentPeriodEnd, \u0026cancelledAt, \u0026sub.CreatedAt, \u0026sub.UpdatedAt,\n\t)\n\tif err == sql.ErrNoRows {\n\t\treturn nil, errors.NotFound(\"subscription not found\")\n\t}\n\tif err != nil {\n\t\treturn nil, errors.Wrap(err, errors.CodeInternalServerError, \"failed to get subscription\", 500)\n\t}\n\n\tif paymentProvider.Valid {\n\t\tsub.PaymentProvider = paymentProvider.String\n\t}\n\tif externalID.Valid {\n\t\tsub.ExternalID = externalID.String\n\t}\n\tif cancelledAt.Valid {\n\t\tsub.CancelledAt = \u0026cancelledAt.Time\n\t}\n\n\treturn sub, nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:105:34","name":"GetByUserID","node_type":"function"},{"code":"func (s *SubscriptionService) processPayment(ctx context.Context, req *model.PaymentRequest) (*model.PaymentResponse, error) {\n\tresp, err := s.paymentClient.Post(ctx, \"/api/v1/payments/charge\", req, nil)\n\tif err != nil {\n\t\treturn nil, errors.Wrap(err, errors.CodeInternalServerError, \"failed to process payment\", 500)\n\t}\n\n\tvar paymentResp model.PaymentResponse\n\tif err := resp.DecodeJSON(\u0026paymentResp); err != nil {\n\t\treturn nil, errors.Wrap(err, errors.CodeInternalServerError, \"failed to decode payment response\", 500)\n\t}\n\n\treturn \u0026paymentResp, nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:275:31","name":"processPayment","node_type":"function"},{"code":"func (r *SubscriptionRepository) Create(ctx context.Context, sub *model.Subscription) error {\n\tquery := `\n\t\tINSERT INTO subscriptions (id, user_id, plan, status, payment_provider, external_id, \n\t\t\tcurrent_period_start, current_period_end, created_at, updated_at)\n\t\tVALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n\t`\n\t_, err := r.db.ExecContext(ctx, query,\n\t\tsub.ID, sub.UserID, sub.Plan, sub.Status, sub.PaymentProvider, sub.ExternalID,\n\t\tsub.CurrentPeriodStart, sub.CurrentPeriodEnd, sub.CreatedAt, sub.UpdatedAt,\n\t)\n\tif err != nil {\n\t\treturn errors.Wrap(err, errors.CodeInternalServerError, \"failed to create subscription\", 500)\n\t}\n\treturn nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:53:34","name":"Create","node_type":"function"},{"code":"func (s *SubscriptionService) publishSubscriptionEvent(ctx context.Context, topic, eventType string, sub *model.Subscription) {\n\tevent := model.SubscriptionEvent{\n\t\tSubscriptionID: sub.ID,\n\t\tUserID:         sub.UserID,\n\t\tPlan:           sub.Plan,\n\t\tStatus:         sub.Status,\n\t\tTimestamp:      time.Now(),\n\t}\n\n\tif err := s.producer.PublishWithKey(ctx, topic, sub.ID, eventType, event); err != nil {\n\t\tlogger.Error(\"failed to publish subscription event\",\n\t\t\tzap.String(\"topic\", topic),\n\t\t\tzap.String(\"subscription_id\", sub.ID),\n\t\t\tzap.Error(err),\n\t\t)\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","name":"publishSubscriptionEvent","node_type":"function"},{"code":"func (h *Handler) handleSubscriptionByID(w http.ResponseWriter, r *http.Request) {\n\t// Handle /api/v1/subscriptions/me separately\n\tif strings.HasSuffix(r.URL.Path, \"/me\") || strings.Contains(r.URL.Path, \"/me/\") {\n\t\th.mySubscription(w, r)\n\t\treturn\n\t}\n\n\t// Extract subscription ID from path\n\tpath := strings.TrimPrefix(r.URL.Path, \"/api/v1/subscriptions/\")\n\tparts := strings.Split(path, \"/\")\n\tsubscriptionID := parts[0]\n\n\tif subscriptionID == \"\" {\n\t\tresponse.Error(w, \u0026badRequestError{message: \"subscription ID is required\"})\n\t\treturn\n\t}\n\n\t// Check for cancel action\n\tif len(parts) \u003e 1 \u0026\u0026 parts[1] == \"cancel\" {\n\t\th.cancelSubscription(w, r, subscriptionID)\n\t\treturn\n\t}\n\n\tswitch r.Method {\n\tcase http.MethodGet:\n\t\tsub, err := h.subscriptionService.GetSubscription(r.Context(), subscriptionID)\n\t\tif err != nil {\n\t\t\tresponse.Error(w, err)\n\t\t\treturn\n\t\t}\n\t\tresponse.OK(w, sub)\n\n\tcase http.MethodPut:\n\t\tvar req model.UpdateSubscriptionRequest\n\t\tif err := json.NewDecoder(r.Body).Decode(\u0026req); err != nil {\n\t\t\tresponse.Error(w, \u0026badRequestError{message: \"invalid request body\"})\n\t\t\treturn\n\t\t}\n\n\t\tsub, err := h.subscriptionService.UpdateSubscription(r.Context(), subscriptionID, \u0026req)\n\t\tif err != nil {\n\t\t\tresponse.Error(w, err)\n\t\t\treturn\n\t\t}\n\t\tresponse.OK(w, sub)\n\n\tdefault:\n\t\tresponse.Error(w, \u0026methodNotAllowedError{})\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","name":"handleSubscriptionByID","node_type":"function"},{"code":"func (h *Handler) mySubscription(w http.ResponseWriter, r *http.Request) {\n\tuserID := r.Header.Get(\"X-User-ID\")\n\tif userID == \"\" {\n\t\tresponse.Error(w, \u0026unauthorizedError{})\n\t\treturn\n\t}\n\n\tswitch r.Method {\n\tcase http.MethodGet:\n\t\tsub, err := h.subscriptionService.GetSubscriptionByUserID(r.Context(), userID)\n\t\tif err != nil {\n\t\t\tresponse.Error(w, err)\n\t\t\treturn\n\t\t}\n\t\tresponse.OK(w, sub)\n\n\tdefault:\n\t\tresponse.Error(w, \u0026methodNotAllowedError{})\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","name":"mySubscription","node_type":"function"},{"code":"func (s *SubscriptionService) GetSubscriptionByUserID(ctx context.Context, userID string) (*model.Subscription, error) {\n\treturn s.repo.GetByUserID(ctx, userID)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:112:31","name":"GetSubscriptionByUserID","node_type":"function"},{"code":"func (h *Handler) cancelSubscription(w http.ResponseWriter, r *http.Request, subscriptionID string) {\n\tif r.Method != http.MethodPost {\n\t\tresponse.Error(w, \u0026methodNotAllowedError{})\n\t\treturn\n\t}\n\n\tvar req model.CancelSubscriptionRequest\n\tif r.Body != nil \u0026\u0026 r.ContentLength \u003e 0 {\n\t\tjson.NewDecoder(r.Body).Decode(\u0026req)\n\t}\n\n\tsub, err := h.subscriptionService.CancelSubscription(r.Context(), subscriptionID, \u0026req)\n\tif err != nil {\n\t\tresponse.Error(w, err)\n\t\treturn\n\t}\n\n\tresponse.OK(w, sub)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","name":"cancelSubscription","node_type":"function"},{"code":"func (s *SubscriptionService) CancelSubscription(ctx context.Context, id string, req *model.CancelSubscriptionRequest) (*model.Subscription, error) {\n\tsub, err := s.repo.GetByID(ctx, id)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\tnow := time.Now()\n\tsub.Status = model.SubscriptionStatusCancelled\n\tsub.CancelledAt = \u0026now\n\n\tif err := s.repo.Update(ctx, sub); err != nil {\n\t\treturn nil, err\n\t}\n\n\t// Publish subscription cancelled event\n\ts.publishSubscriptionEvent(ctx, kafka.TopicSubscriptionCancelled, kafka.EventSubscriptionCancelled, sub)\n\n\t// Send cancellation notification\n\ts.sendNotification(ctx, sub.UserID, \"subscription_cancelled\", \"Subscription Cancelled\", \n\t\t\"Your subscription has been cancelled. You can continue using premium features until the end of your billing period.\")\n\n\treturn sub, nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","name":"CancelSubscription","node_type":"function"},{"code":"func (r *SubscriptionRepository) GetByID(ctx context.Context, id string) (*model.Subscription, error) {\n\tquery := `\n\t\tSELECT id, user_id, plan, status, payment_provider, external_id,\n\t\t\tcurrent_period_start, current_period_end, cancelled_at, created_at, updated_at\n\t\tFROM subscriptions WHERE id = $1\n\t`\n\tsub := \u0026model.Subscription{}\n\tvar paymentProvider, externalID sql.NullString\n\tvar cancelledAt sql.NullTime\n\n\terr := r.db.QueryRowContext(ctx, query, id).Scan(\n\t\t\u0026sub.ID, \u0026sub.UserID, \u0026sub.Plan, \u0026sub.Status, \u0026paymentProvider, \u0026externalID,\n\t\t\u0026sub.CurrentPeriodStart, \u0026sub.CurrentPeriodEnd, \u0026cancelledAt, \u0026sub.CreatedAt, \u0026sub.UpdatedAt,\n\t)\n\tif err == sql.ErrNoRows {\n\t\treturn nil, errors.NotFound(\"subscription not found\")\n\t}\n\tif err != nil {\n\t\treturn nil, errors.Wrap(err, errors.CodeInternalServerError, \"failed to get subscription\", 500)\n\t}\n\n\tif paymentProvider.Valid {\n\t\tsub.PaymentProvider = paymentProvider.String\n\t}\n\tif externalID.Valid {\n\t\tsub.ExternalID = externalID.String\n\t}\n\tif cancelledAt.Valid {\n\t\tsub.CancelledAt = \u0026cancelledAt.Time\n\t}\n\n\treturn sub, nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:70:34","name":"GetByID","node_type":"function"},{"code":"func (r *SubscriptionRepository) Update(ctx context.Context, sub *model.Subscription) error {\n\tquery := `\n\t\tUPDATE subscriptions SET\n\t\t\tplan = $2, status = $3, payment_provider = $4, external_id = $5,\n\t\t\tcurrent_period_start = $6, current_period_end = $7, cancelled_at = $8, updated_at = $9\n\t\tWHERE id = $1\n\t`\n\tsub.UpdatedAt = time.Now()\n\t_, err := r.db.ExecContext(ctx, query,\n\t\tsub.ID, sub.Plan, sub.Status, sub.PaymentProvider, sub.ExternalID,\n\t\tsub.CurrentPeriodStart, sub.CurrentPeriodEnd, sub.CancelledAt, sub.UpdatedAt,\n\t)\n\tif err != nil {\n\t\treturn errors.Wrap(err, errors.CodeInternalServerError, \"failed to update subscription\", 500)\n\t}\n\treturn nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","name":"Update","node_type":"function"},{"code":"func (s *SubscriptionService) sendNotification(ctx context.Context, userID, notifType, title, message string) {\n\tnotif := model.NotificationRequest{\n\t\tUserID:  userID,\n\t\tType:    notifType,\n\t\tTitle:   title,\n\t\tMessage: message,\n\t}\n\n\tif err := s.producer.PublishWithKey(ctx, kafka.TopicNotificationSend, userID, \"notification.send\", notif); err != nil {\n\t\tlogger.Error(\"failed to send notification\",\n\t\t\tzap.String(\"user_id\", userID),\n\t\t\tzap.String(\"type\", notifType),\n\t\t\tzap.Error(err),\n\t\t)\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","name":"sendNotification","node_type":"function"},{"code":"func (s *SubscriptionService) GetSubscription(ctx context.Context, id string) (*model.Subscription, error) {\n\treturn s.repo.GetByID(ctx, id)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:107:31","name":"GetSubscription","node_type":"function"},{"code":"func (s *SubscriptionService) UpdateSubscription(ctx context.Context, id string, req *model.UpdateSubscriptionRequest) (*model.Subscription, error) {\n\tsub, err := s.repo.GetByID(ctx, id)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\tif req.Plan != \"\" {\n\t\tif _, ok := planPrices[req.Plan]; !ok {\n\t\t\treturn nil, errors.ValidationError(\"invalid plan\")\n\t\t}\n\t\tsub.Plan = req.Plan\n\t}\n\n\tif err := s.repo.Update(ctx, sub); err != nil {\n\t\treturn nil, err\n\t}\n\n\t// Publish subscription updated event\n\ts.publishSubscriptionEvent(ctx, kafka.TopicSubscriptionUpdated, kafka.EventSubscriptionUpdated, sub)\n\n\treturn sub, nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","name":"UpdateSubscription","node_type":"function"},{"code":"func NewRenewalScheduler(subscriptionService *service.SubscriptionService, interval time.Duration) *RenewalScheduler {\n\treturn \u0026RenewalScheduler{\n\t\tsubscriptionService: subscriptionService,\n\t\tinterval:            interval,\n\t\tstopCh:              make(chan struct{}),\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:20:6","name":"NewRenewalScheduler","node_type":"function"},{"code":"func (s *RenewalScheduler) Start(ctx context.Context) {\n\tlogger.Info(\"starting renewal scheduler\", zap.Duration(\"interval\", s.interval))\n\n\tticker := time.NewTicker(s.interval)\n\tdefer ticker.Stop()\n\n\t// Run immediately on start\n\ts.runRenewalCheck(ctx)\n\n\tfor {\n\t\tselect {\n\t\tcase \u003c-ticker.C:\n\t\t\ts.runRenewalCheck(ctx)\n\t\tcase \u003c-s.stopCh:\n\t\t\tlogger.Info(\"renewal scheduler stopped\")\n\t\t\treturn\n\t\tcase \u003c-ctx.Done():\n\t\t\tlogger.Info(\"renewal scheduler context cancelled\")\n\t\t\treturn\n\t\t}\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:29:28","name":"Start","node_type":"function"},{"code":"func (s *RenewalScheduler) runRenewalCheck(ctx context.Context) {\n\tlogger.Info(\"running subscription renewal check\")\n\tstart := time.Now()\n\n\tif err := s.subscriptionService.ProcessExpiredSubscriptions(ctx); err != nil {\n\t\tlogger.Error(\"failed to process expired subscriptions\", zap.Error(err))\n\t}\n\n\tlogger.Info(\"subscription renewal check completed\",\n\t\tzap.Duration(\"duration\", time.Since(start)),\n\t)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:58:28","name":"runRenewalCheck","node_type":"function"},{"code":"func (s *SubscriptionService) ProcessExpiredSubscriptions(ctx context.Context) error {\n\tlogger.Info(\"processing expired subscriptions\")\n\n\texpiredSubs, err := s.repo.GetExpiredSubscriptions(ctx, time.Now())\n\tif err != nil {\n\t\treturn err\n\t}\n\n\tlogger.Info(\"found expired subscriptions\", zap.Int(\"count\", len(expiredSubs)))\n\n\tfor _, sub := range expiredSubs {\n\t\tif err := s.renewSubscription(ctx, sub); err != nil {\n\t\t\tlogger.Error(\"failed to renew subscription\",\n\t\t\t\tzap.String(\"subscription_id\", sub.ID),\n\t\t\t\tzap.String(\"user_id\", sub.UserID),\n\t\t\t\tzap.Error(err),\n\t\t\t)\n\t\t}\n\t}\n\n\treturn nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:166:31","name":"ProcessExpiredSubscriptions","node_type":"function"},{"code":"func (r *SubscriptionRepository) GetExpiredSubscriptions(ctx context.Context, before time.Time) ([]*model.Subscription, error) {\n\tquery := `\n\t\tSELECT id, user_id, plan, status, payment_provider, external_id,\n\t\t\tcurrent_period_start, current_period_end, cancelled_at, created_at, updated_at\n\t\tFROM subscriptions \n\t\tWHERE status = 'active' AND current_period_end \u003c= $1\n\t\tORDER BY current_period_end ASC\n\t\tLIMIT 100\n\t`\n\trows, err := r.db.QueryContext(ctx, query, before)\n\tif err != nil {\n\t\treturn nil, errors.Wrap(err, errors.CodeInternalServerError, \"failed to query expired subscriptions\", 500)\n\t}\n\tdefer rows.Close()\n\n\tvar subscriptions []*model.Subscription\n\tfor rows.Next() {\n\t\tsub := \u0026model.Subscription{}\n\t\tvar paymentProvider, externalID sql.NullString\n\t\tvar cancelledAt sql.NullTime\n\n\t\terr := rows.Scan(\n\t\t\t\u0026sub.ID, \u0026sub.UserID, \u0026sub.Plan, \u0026sub.Status, \u0026paymentProvider, \u0026externalID,\n\t\t\t\u0026sub.CurrentPeriodStart, \u0026sub.CurrentPeriodEnd, \u0026cancelledAt, \u0026sub.CreatedAt, \u0026sub.UpdatedAt,\n\t\t)\n\t\tif err != nil {\n\t\t\treturn nil, errors.Wrap(err, errors.CodeInternalServerError, \"failed to scan subscription\", 500)\n\t\t}\n\n\t\tif paymentProvider.Valid {\n\t\t\tsub.PaymentProvider = paymentProvider.String\n\t\t}\n\t\tif externalID.Valid {\n\t\t\tsub.ExternalID = externalID.String\n\t\t}\n\t\tif cancelledAt.Valid {\n\t\t\tsub.CancelledAt = \u0026cancelledAt.Time\n\t\t}\n\n\t\tsubscriptions = append(subscriptions, sub)\n\t}\n\n\treturn subscriptions, nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:159:34","name":"GetExpiredSubscriptions","node_type":"function"},{"code":"func (s *SubscriptionService) renewSubscription(ctx context.Context, sub *model.Subscription) error {\n\tlogger.Info(\"renewing subscription\",\n\t\tzap.String(\"subscription_id\", sub.ID),\n\t\tzap.String(\"user_id\", sub.UserID),\n\t\tzap.String(\"plan\", sub.Plan),\n\t)\n\n\t// Skip free plans - just extend the period\n\tif sub.Plan == model.PlanFree {\n\t\tsub.CurrentPeriodStart = time.Now()\n\t\tsub.CurrentPeriodEnd = time.Now().AddDate(0, 1, 0)\n\t\treturn s.repo.Update(ctx, sub)\n\t}\n\n\t// Process payment\n\tpaymentReq := \u0026model.PaymentRequest{\n\t\tUserID:         sub.UserID,\n\t\tSubscriptionID: sub.ID,\n\t\tAmount:         float64(planPrices[sub.Plan]) / 100,\n\t\tCurrency:       \"USD\",\n\t\tProvider:       sub.PaymentProvider,\n\t\tDescription:    fmt.Sprintf(\"Subscription renewal: %s plan\", sub.Plan),\n\t\tMetadata: map[string]string{\n\t\t\t\"subscription_id\": sub.ID,\n\t\t\t\"renewal\":         \"true\",\n\t\t},\n\t}\n\n\tpaymentResp, err := s.processPayment(ctx, paymentReq)\n\tif err != nil {\n\t\t// Mark subscription as past due\n\t\tsub.Status = model.SubscriptionStatusPastDue\n\t\ts.repo.Update(ctx, sub)\n\n\t\t// Send payment failure notification\n\t\ts.sendNotification(ctx, sub.UserID, \"payment_failed\", \"Payment Failed\",\n\t\t\t\"We couldn't process your subscription payment. Please update your payment method to continue your subscription.\")\n\n\t\t// Publish payment failed event\n\t\ts.publishPaymentFailedEvent(ctx, sub, err.Error())\n\n\t\treturn err\n\t}\n\n\tif !paymentResp.Success {\n\t\t// Mark subscription as past due\n\t\tsub.Status = model.SubscriptionStatusPastDue\n\t\ts.repo.Update(ctx, sub)\n\n\t\t// Send payment failure notification\n\t\ts.sendNotification(ctx, sub.UserID, \"payment_failed\", \"Payment Failed\",\n\t\t\tfmt.Sprintf(\"We couldn't process your subscription payment: %s\", paymentResp.ErrorMessage))\n\n\t\t// Publish payment failed event\n\t\ts.publishPaymentFailedEvent(ctx, sub, paymentResp.ErrorMessage)\n\n\t\treturn errors.PaymentFailed(paymentResp.ErrorMessage)\n\t}\n\n\t// Payment successful - extend subscription\n\tsub.CurrentPeriodStart = time.Now()\n\tsub.CurrentPeriodEnd = time.Now().AddDate(0, 1, 0)\n\tsub.Status = model.SubscriptionStatusActive\n\tsub.ExternalID = paymentResp.TransactionID\n\n\tif err := s.repo.Update(ctx, sub); err != nil {\n\t\treturn err\n\t}\n\n\t// Send renewal success notification\n\ts.sendNotification(ctx, sub.UserID, \"subscription_renewed\", \"Subscription Renewed\",\n\t\tfmt.Sprintf(\"Your %s subscription has been renewed successfully. Thank you for being a premium member!\", sub.Plan))\n\n\t// Publish subscription renewed event\n\ts.publishSubscriptionEvent(ctx, kafka.TopicSubscriptionRenewed, kafka.EventSubscriptionRenewed, sub)\n\n\tlogger.Info(\"subscription renewed successfully\",\n\t\tzap.String(\"subscription_id\", sub.ID),\n\t\tzap.String(\"user_id\", sub.UserID),\n\t)\n\n\treturn nil\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","name":"renewSubscription","node_type":"function"},{"code":"func (s *SubscriptionService) publishPaymentFailedEvent(ctx context.Context, sub *model.Subscription, errorMsg string) {\n\tevent := model.PaymentFailedEvent{\n\t\tSubscriptionID: sub.ID,\n\t\tUserID:         sub.UserID,\n\t\tAmount:         float64(planPrices[sub.Plan]) / 100,\n\t\tCurrency:       \"USD\",\n\t\tErrorMessage:   errorMsg,\n\t\tTimestamp:      time.Now(),\n\t}\n\n\tif err := s.producer.PublishWithKey(ctx, kafka.TopicPaymentFailed, sub.ID, kafka.EventPaymentFailed, event); err != nil {\n\t\tlogger.Error(\"failed to publish payment failed event\",\n\t\t\tzap.String(\"subscription_id\", sub.ID),\n\t\t\tzap.Error(err),\n\t\t)\n\t}\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:327:31","name":"publishPaymentFailedEvent","node_type":"function"},{"code":"func (s *RenewalScheduler) Stop() {\n\tclose(s.stopCh)\n}","external":"false","id":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:53:28","name":"Stop","node_type":"function"}],"links":[{"column":32,"line":76,"source":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:18:6","val":1},{"column":28,"line":79,"source":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:23:34","val":1},{"column":32,"line":44,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:23:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:23:34","val":1},{"column":32,"line":85,"source":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:34:6","val":1},{"column":14,"line":88,"source":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:19:6","val":1},{"column":3,"line":92,"source":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:26:19","val":1},{"column":29,"line":27,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:26:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:40:19","val":1},{"column":35,"line":30,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:26:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:46:19","val":1},{"column":17,"line":47,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:46:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:46:19","val":1},{"column":32,"line":51,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:46:19","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:346:31","val":1},{"column":13,"line":52,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:46:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:46:19","val":1},{"column":36,"line":31,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:26:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:56:19","val":1},{"column":17,"line":57,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:56:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:56:19","val":1},{"column":43,"line":64,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:56:19","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:379:31","val":1},{"column":12,"line":379,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:379:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:346:31","val":1},{"column":17,"line":66,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:56:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:56:19","val":1},{"column":43,"line":34,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:26:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","val":1},{"column":4,"line":78,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","val":1},{"column":17,"line":87,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","val":1},{"column":17,"line":93,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","val":1},{"column":35,"line":98,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","val":1},{"column":25,"line":53,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:105:34","val":1},{"column":29,"line":114,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:105:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:105:34","val":1},{"column":41,"line":114,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:105:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:105:34","val":1},{"column":37,"line":53,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","val":1},{"column":24,"line":85,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:275:31","val":1},{"column":35,"line":275,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:275:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:275:31","val":1},{"column":67,"line":275,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:275:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:275:31","val":1},{"column":39,"line":85,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","val":1},{"column":18,"line":95,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:53:34","val":1},{"column":28,"line":58,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:53:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:53:34","val":1},{"column":25,"line":95,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","val":1},{"column":3,"line":100,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","val":1},{"column":37,"line":316,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","val":1},{"column":42,"line":316,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","val":1},{"column":57,"line":316,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","val":1},{"column":23,"line":318,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","val":1},{"column":28,"line":100,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:47:31","val":1},{"column":17,"line":100,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","val":1},{"column":18,"line":104,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:85:19","val":1},{"column":23,"line":78,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","val":1},{"column":26,"line":78,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","val":1},{"column":17,"line":80,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:76:19","val":1},{"column":44,"line":35,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:26:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":4,"line":131,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","val":1},{"column":17,"line":110,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","val":1},{"column":36,"line":116,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:112:31","val":1},{"column":15,"line":112,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:112:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:105:34","val":1},{"column":27,"line":112,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:112:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:112:31","val":1},{"column":32,"line":112,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:112:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:112:31","val":1},{"column":18,"line":118,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","val":1},{"column":14,"line":121,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","val":1},{"column":17,"line":124,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","val":1},{"column":19,"line":131,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":22,"line":131,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":17,"line":141,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":4,"line":147,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","val":1},{"column":17,"line":181,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","val":1},{"column":35,"line":190,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","val":1},{"column":20,"line":141,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:70:34","val":1},{"column":29,"line":79,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:70:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:70:34","val":1},{"column":41,"line":79,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:70:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:70:34","val":1},{"column":28,"line":141,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","val":1},{"column":33,"line":141,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","val":1},{"column":18,"line":150,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","val":1},{"column":28,"line":147,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","val":1},{"column":25,"line":150,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","val":1},{"column":3,"line":155,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","val":1},{"column":28,"line":155,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","val":1},{"column":3,"line":158,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","val":1},{"column":37,"line":297,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","val":1},{"column":71,"line":297,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","val":1},{"column":25,"line":299,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","val":1},{"column":22,"line":300,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","val":1},{"column":20,"line":158,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:141:31","val":1},{"column":67,"line":190,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","val":1},{"column":17,"line":192,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","val":1},{"column":13,"line":196,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:180:19","val":1},{"column":23,"line":147,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":26,"line":147,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":36,"line":153,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:107:31","val":1},{"column":15,"line":107,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:107:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:70:34","val":1},{"column":23,"line":107,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:107:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:107:31","val":1},{"column":28,"line":107,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:107:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:107:31","val":1},{"column":18,"line":155,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":14,"line":158,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":18,"line":163,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":36,"line":167,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","val":1},{"column":20,"line":117,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:70:34","val":1},{"column":28,"line":117,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","val":1},{"column":33,"line":117,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","val":1},{"column":18,"line":129,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","val":1},{"column":25,"line":129,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","val":1},{"column":3,"line":134,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","val":1},{"column":28,"line":134,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:117:31","val":1},{"column":18,"line":169,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":14,"line":172,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":17,"line":175,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:129:19","val":1},{"column":46,"line":36,"source":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:26:19","target":"/home/evan/Code/rinder/services/subscription/internal/handler/handler.go:108:19","val":1},{"column":31,"line":109,"source":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","target":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:20:6","val":1},{"column":21,"line":111,"source":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","target":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:29:28","val":1},{"column":3,"line":35,"source":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:29:28","target":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:58:28","val":1},{"column":33,"line":61,"source":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:58:28","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:166:31","val":1},{"column":28,"line":168,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:166:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:159:34","val":1},{"column":32,"line":167,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:159:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:159:34","val":1},{"column":44,"line":167,"source":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:159:34","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:159:34","val":1},{"column":52,"line":168,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:166:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:166:31","val":1},{"column":14,"line":176,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:166:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":16,"line":200,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","val":1},{"column":23,"line":200,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":28,"line":200,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":23,"line":217,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:275:31","val":1},{"column":38,"line":217,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":9,"line":221,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","val":1},{"column":16,"line":221,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":21,"line":221,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":4,"line":224,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","val":1},{"column":21,"line":224,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":4,"line":228,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:327:31","val":1},{"column":37,"line":336,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:327:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:327:31","val":1},{"column":30,"line":228,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":35,"line":228,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":9,"line":236,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","val":1},{"column":16,"line":236,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":21,"line":236,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":4,"line":239,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","val":1},{"column":21,"line":239,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":4,"line":243,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:327:31","val":1},{"column":30,"line":243,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":35,"line":243,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":18,"line":254,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/repository/subscription_repository.go:140:34","val":1},{"column":25,"line":254,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":30,"line":254,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":3,"line":259,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:290:31","val":1},{"column":20,"line":259,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":3,"line":263,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:308:31","val":1},{"column":28,"line":263,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":97,"line":263,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:190:31","val":1},{"column":32,"line":176,"source":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:166:31","target":"/home/evan/Code/rinder/services/subscription/internal/service/subscription_service.go:166:31","val":1},{"column":61,"line":61,"source":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:58:28","target":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:58:28","val":1},{"column":19,"line":35,"source":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:29:28","target":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:29:28","val":1},{"column":5,"line":40,"source":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:29:28","target":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:58:28","val":1},{"column":21,"line":40,"source":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:29:28","target":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:29:28","val":1},{"column":18,"line":130,"source":"/home/evan/Code/rinder/services/subscription/cmd/main.go:25:1","target":"/home/evan/Code/rinder/services/subscription/internal/scheduler/renewal_scheduler.go:53:28","val":1}]}